{"ast":null,"code":"function pipe(source) {\n  var args = arguments;\n  var len = args.length;\n  var x = source;\n\n  for (var i = 1; i < len; i++) {\n    x = args[i](x);\n  }\n\n  return x;\n}\n\nfunction __(tag, block) {\n  block.tag = tag;\n  return block;\n}\n\nfunction caml_array_sub(x, offset, len) {\n  var result = new Array(len);\n  var j = 0;\n  var i = offset;\n\n  while (j < len) {\n    result[j] = x[i];\n    j = j + 1 | 0;\n    i = i + 1 | 0;\n  }\n\n  return result;\n}\n\nfunction app(_f, _args) {\n  while (1) {\n    var args = _args;\n    var f = _f;\n    var init_arity = f.length;\n    var arity = 0 === init_arity ? 1 : init_arity;\n    var d = arity - args.length | 0;\n\n    if (0 === d) {\n      return f.apply(null, args);\n    } else if (d < 0) {\n      _args = caml_array_sub(args, arity, 0 | -d);\n      _f = f.apply(null, caml_array_sub(args, 0, arity));\n      continue;\n    } else {\n      return function (f, args) {\n        return function (x) {\n          return app(f, args.concat([x]));\n        };\n      }(f, args);\n    }\n  }\n}\n\nfunction _1(o, a0) {\n  var arity = o.length;\n\n  if (1 === arity) {\n    return o(a0);\n  } else {\n    return function curry_1(o, a0, arity) {\n      switch (arity) {\n        case 1:\n          return o(a0);\n\n        case 2:\n          return function (param) {\n            return o(a0, param);\n          };\n\n        case 3:\n          return function (param, param$1) {\n            return o(a0, param, param$1);\n          };\n\n        case 4:\n          return function (param, param$1, param$2) {\n            return o(a0, param, param$1, param$2);\n          };\n\n        case 5:\n          return function (param, param$1, param$2, param$3) {\n            return o(a0, param, param$1, param$2, param$3);\n          };\n\n        case 6:\n          return function (param, param$1, param$2, param$3, param$4) {\n            return o(a0, param, param$1, param$2, param$3, param$4);\n          };\n\n        case 7:\n          return function (param, param$1, param$2, param$3, param$4, param$5) {\n            return o(a0, param, param$1, param$2, param$3, param$4, param$5);\n          };\n\n        default:\n          return app(o, [a0]);\n      }\n    }(o, a0, arity);\n  }\n}\n\nfunction _3(o, a0, a1, a2) {\n  var arity = o.length;\n\n  if (3 === arity) {\n    return o(a0, a1, a2);\n  } else {\n    return function curry_3(o, a0, a1, a2, arity) {\n      switch (arity) {\n        case 1:\n          return app(o(a0), [a1, a2]);\n\n        case 2:\n          return app(o(a0, a1), [a2]);\n\n        case 3:\n          return o(a0, a1, a2);\n\n        case 4:\n          return function (param) {\n            return o(a0, a1, a2, param);\n          };\n\n        case 5:\n          return function (param, param$1) {\n            return o(a0, a1, a2, param, param$1);\n          };\n\n        case 6:\n          return function (param, param$1, param$2) {\n            return o(a0, a1, a2, param, param$1, param$2);\n          };\n\n        case 7:\n          return function (param, param$1, param$2, param$3) {\n            return o(a0, a1, a2, param, param$1, param$2, param$3);\n          };\n\n        default:\n          return app(o, [a0, a1, a2]);\n      }\n    }(o, a0, a1, a2, arity);\n  }\n}\n\nvar undefinedHeader = [];\n\nfunction some(x) {\n  if (void 0 === x) {\n    var block = [undefinedHeader, 0];\n    block.tag = 256;\n    return block;\n  } else if (null !== x && x[0] === undefinedHeader) {\n    var block$1 = [undefinedHeader, x[1] + 1 | 0];\n    block$1.tag = 256;\n    return block$1;\n  } else {\n    return x;\n  }\n}\n\nfunction valFromOption(x) {\n  if (null !== x && x[0] === undefinedHeader) {\n    var depth = x[1];\n\n    if (0 === depth) {\n      return;\n    } else {\n      return [undefinedHeader, depth - 1 | 0];\n    }\n  } else {\n    return x;\n  }\n}\n\nfunction talkbackPlaceholder(param) {\n  return 0;\n}\n\nfunction captureTalkback(source, sinkWithTalkback) {\n  var talkback = [talkbackPlaceholder];\n  return _1(source, function (signal) {\n    if ('number' != typeof signal) {\n      if (!signal.tag) {\n        talkback[0] = signal[0];\n      }\n    }\n\n    return sinkWithTalkback(signal, talkback[0]);\n  });\n}\n\nfunction makeTrampoline(sink, f) {\n  var state = [!1, !1, !1];\n  return sink(__(0, [function (signal) {\n    var match = state[1];\n\n    if (signal) {\n      state[0] = !0;\n      return 0;\n    } else if (match) {\n      state[2] = !0;\n      return 0;\n    } else {\n      state[2] = !0;\n      state[1] = !0;\n\n      while (state[2] && !state[0]) {\n        var match$1 = f();\n\n        if (void 0 !== match$1) {\n          state[2] = !1;\n          sink(__(1, [valFromOption(match$1)]));\n        } else {\n          state[0] = !0;\n          sink(0);\n        }\n      }\n\n      state[1] = !1;\n      return 0;\n    }\n  }]));\n}\n\nvar observableSymbol = 'function' == typeof Symbol ? Symbol.observable || (Symbol.observable = Symbol('observable')) : '@@observable';\n\nfunction takeLast(max) {\n  return function (source) {\n    return function (sink) {\n      var queue = new Array();\n      return captureTalkback(source, function (signal, talkback) {\n        if ('number' == typeof signal) {\n          return makeTrampoline(sink, function () {\n            return queue.shift();\n          });\n        } else if (signal.tag) {\n          if (queue.length >= max && max > 0) {\n            queue.shift();\n          }\n\n          queue.push(signal[0]);\n          return talkback(0);\n        } else {\n          return talkback(0);\n        }\n      });\n    };\n  };\n}\n\nfunction fromListener(addListener, removeListener) {\n  return function (sink) {\n    var handler = function handler($$event) {\n      return sink(__(1, [$$event]));\n    };\n\n    sink(__(0, [function (signal) {\n      if (signal) {\n        return _1(removeListener, handler);\n      } else {\n        return 0;\n      }\n    }]));\n    return _1(addListener, handler);\n  };\n}\n\nvar toPromise$1 = function toPromise(source) {\n  return new Promise(function (resolve, param) {\n    return _1(takeLast(1)(source), function (signal) {\n      if ('number' == typeof signal) {\n        return 0;\n      } else if (signal.tag) {\n        return resolve(signal[0]);\n      } else {\n        return signal[0](0);\n      }\n    });\n  });\n};\n\nfunction subscribe(f) {\n  return function (source) {\n    var state = [talkbackPlaceholder, !1];\n\n    _1(source, function (signal) {\n      if ('number' == typeof signal) {\n        state[1] = !0;\n        return 0;\n      } else if (signal.tag) {\n        if (state[1]) {\n          return 0;\n        } else {\n          f(signal[0]);\n          return state[0](0);\n        }\n      } else {\n        var x = signal[0];\n        state[0] = x;\n        return x(0);\n      }\n    });\n\n    return [function (param) {\n      if (state[1]) {\n        return 0;\n      } else {\n        state[1] = !0;\n        return state[0](1);\n      }\n    }];\n  };\n}\n\nfunction fromArray(arr) {\n  return function (sink) {\n    var size = arr.length;\n    var index = [0];\n    return makeTrampoline(sink, function () {\n      if (index[0] < size) {\n        var x = arr[index[0]];\n        index[0] = index[0] + 1 | 0;\n        return some(x);\n      }\n    });\n  };\n}\n\nfunction onPush(f) {\n  return function (source) {\n    return function (sink) {\n      return _1(source, function (signal) {\n        if ('number' != typeof signal) {\n          if (signal.tag) {\n            f(signal[0]);\n          }\n        }\n\n        return sink(signal);\n      });\n    };\n  };\n}\n\nfunction mergeMap(f) {\n  return function (source) {\n    return function (sink) {\n      var state = [talkbackPlaceholder, new Array(), !1];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[2]) {\n            return 0;\n          } else {\n            state[2] = !0;\n\n            if (0 === state[1].length) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          }\n        } else if (signal.tag) {\n          if (state[2]) {\n            return 0;\n          } else {\n            innerSource = f(signal[0]), talkback = [talkbackPlaceholder], _1(innerSource, function (signal) {\n              if ('number' == typeof signal) {\n                state[1] = state[1].filter(function (x) {\n                  return x !== talkback[0];\n                });\n\n                if (state[2] && 0 === state[1].length) {\n                  return sink(0);\n                } else {\n                  return 0;\n                }\n              } else if (signal.tag) {\n                if (0 !== state[1].length) {\n                  sink(__(1, [signal[0]]));\n                  return talkback[0](0);\n                } else {\n                  return 0;\n                }\n              } else {\n                var tb = signal[0];\n                talkback[0] = tb;\n                state[1] = state[1].concat(tb);\n                return tb(0);\n              }\n            });\n            return state[0](0);\n          }\n        } else {\n          var tb = signal[0];\n          state[0] = tb;\n          return tb(0);\n        }\n\n        var innerSource, talkback;\n      });\n\n      return sink(__(0, [function (signal) {\n        if (signal) {\n          state[1].forEach(function (talkback) {\n            return talkback(1);\n          });\n\n          if (state[2]) {\n            return 0;\n          } else {\n            state[2] = !0;\n            state[0](1);\n            state[1].forEach(function (talkback) {\n              return talkback(1);\n            });\n            state[1] = new Array();\n            return 0;\n          }\n        } else if (state[2]) {\n          return 0;\n        } else {\n          state[1].forEach(function (talkback) {\n            return talkback(0);\n          });\n          return 0;\n        }\n      }]));\n    };\n  };\n}\n\nfunction mergeAll(source) {\n  return mergeMap(function (x) {\n    return x;\n  })(source);\n}\n\nfunction concatMap(f) {\n  return function (source) {\n    return function (sink) {\n      var state = [new Array(), talkbackPlaceholder, talkbackPlaceholder, !1, !1, !1];\n\n      var applyInnerSource = function applyInnerSource(innerSource) {\n        return _1(innerSource, function (signal) {\n          if ('number' == typeof signal) {\n            state[3] = !1;\n            state[2] = talkbackPlaceholder;\n            var match = state[0].shift();\n\n            if (void 0 !== match) {\n              return applyInnerSource(f(valFromOption(match)));\n            } else if (state[5]) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          } else if (signal.tag) {\n            if (state[4]) {\n              return 0;\n            } else {\n              sink(__(1, [signal[0]]));\n              return state[2](0);\n            }\n          } else {\n            var tb = signal[0];\n            state[3] = !0;\n            state[2] = tb;\n            return tb(0);\n          }\n        });\n      };\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[5]) {\n            return 0;\n          } else {\n            state[5] = !0;\n\n            if (!state[3] && function isEmpty(q) {\n              return 0 === q.length;\n            }(state[0])) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          }\n        } else if (signal.tag) {\n          if (state[5]) {\n            return 0;\n          } else {\n            var x = signal[0];\n\n            if (state[3]) {\n              state[0].push(x);\n            } else {\n              applyInnerSource(f(x));\n            }\n\n            return state[1](0);\n          }\n        } else {\n          var tb = signal[0];\n          state[1] = tb;\n          return tb(0);\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (signal) {\n          state[2](1);\n\n          if (state[5]) {\n            return 0;\n          } else {\n            state[5] = !0;\n            state[4] = !0;\n            state[1](1);\n            state[2] = talkbackPlaceholder;\n            return 0;\n          }\n        } else if (state[5]) {\n          return 0;\n        } else {\n          return state[2](0);\n        }\n      }]));\n    };\n  };\n}\n\nfunction switchMap(f) {\n  return function (source) {\n    return function (sink) {\n      var state = [talkbackPlaceholder, talkbackPlaceholder, !1, !1, !1];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[4]) {\n            return 0;\n          } else {\n            state[4] = !0;\n\n            if (state[2]) {\n              return 0;\n            } else {\n              return sink(0);\n            }\n          }\n        } else if (signal.tag) {\n          if (state[4]) {\n            return 0;\n          } else {\n            if (state[2]) {\n              state[1](1);\n              state[1] = talkbackPlaceholder;\n            }\n\n            _1(f(signal[0]), function (signal) {\n              if ('number' == typeof signal) {\n                state[2] = !1;\n                state[1] = talkbackPlaceholder;\n\n                if (state[4]) {\n                  return sink(0);\n                } else {\n                  return 0;\n                }\n              } else if (signal.tag) {\n                if (state[3]) {\n                  return 0;\n                } else {\n                  sink(__(1, [signal[0]]));\n                  return state[1](0);\n                }\n              } else {\n                var tb = signal[0];\n                state[2] = !0;\n                state[1] = tb;\n                return tb(0);\n              }\n            });\n\n            return state[0](0);\n          }\n        } else {\n          var tb = signal[0];\n          state[0] = tb;\n          return tb(0);\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (signal) {\n          state[1](1);\n\n          if (state[4]) {\n            return 0;\n          } else {\n            state[4] = !0;\n            state[3] = !0;\n            state[0](1);\n            state[1] = talkbackPlaceholder;\n            return 0;\n          }\n        } else {\n          return state[1](0);\n        }\n      }]));\n    };\n  };\n}\n\nvar Types = 0;\nvar fromArray$2 = fromArray;\n\nvar fromList$2 = function fromList(ls) {\n  return function (sink) {\n    var value = [ls];\n    return makeTrampoline(sink, function () {\n      var match = value[0];\n\n      if (match) {\n        value[0] = match[1];\n        return some(match[0]);\n      }\n    });\n  };\n};\n\nvar fromValue$2 = function fromValue(x) {\n  return function (sink) {\n    var ended = [!1];\n    return sink(__(0, [function (signal) {\n      if (signal || ended[0]) {\n        return 0;\n      } else {\n        ended[0] = !0;\n        sink(__(1, [x]));\n        return sink(0);\n      }\n    }]));\n  };\n};\n\nvar make$2 = function make(f) {\n  return function (sink) {\n    var teardown = [function () {\n      return 0;\n    }];\n    sink(__(0, [function (signal) {\n      if (signal) {\n        return teardown[0]();\n      } else {\n        return 0;\n      }\n    }]));\n    teardown[0] = f([function (value) {\n      return sink(__(1, [value]));\n    }, function (param) {\n      return sink(0);\n    }]);\n    return 0;\n  };\n};\n\nvar makeSubject$2 = function makeSubject(param) {\n  var state = [new Array(), !1];\n  return [function (sink) {\n    state[0] = state[0].concat(sink);\n    return sink(__(0, [function (signal) {\n      if (1 === signal) {\n        state[0] = state[0].filter(function (x) {\n          return x !== sink;\n        });\n        return 0;\n      } else {\n        return 0;\n      }\n    }]));\n  }, function (value) {\n    if (state[1]) {\n      return 0;\n    } else {\n      state[0].forEach(function (sink) {\n        return sink(__(1, [value]));\n      });\n      return 0;\n    }\n  }, function (param) {\n    if (state[1]) {\n      return 0;\n    } else {\n      state[1] = !0;\n      state[0].forEach(function (sink) {\n        return sink(0);\n      });\n      return 0;\n    }\n  }];\n};\n\nvar empty$2 = function empty(sink) {\n  sink(__(0, [talkbackPlaceholder]));\n  return sink(0);\n};\n\nvar never$2 = function never(sink) {\n  return sink(__(0, [talkbackPlaceholder]));\n};\n\nvar buffer$2 = function buffer(notifier) {\n  return function (source) {\n    return function (sink) {\n      var state = [new Array(), talkbackPlaceholder, talkbackPlaceholder, !1];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[3]) {\n            return 0;\n          } else {\n            state[3] = !0;\n            state[2](1);\n            sink(__(1, [state[0]]));\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          if (state[3]) {\n            return 0;\n          } else {\n            state[0].push(signal[0]);\n            return state[1](0);\n          }\n        } else {\n          state[1] = signal[0];\n          return _1(notifier, function (signal) {\n            if ('number' == typeof signal) {\n              if (state[3]) {\n                return 0;\n              } else {\n                state[3] = !0;\n                state[1](1);\n                sink(__(1, [state[0]]));\n                return sink(0);\n              }\n            } else if (signal.tag) {\n              if (state[3]) {\n                return 0;\n              } else {\n                sink(__(1, [state[0]]));\n                state[0] = new Array();\n                return state[2](0);\n              }\n            } else {\n              state[2] = signal[0];\n              return state[2](0);\n            }\n          });\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (state[3]) {\n          return 0;\n        } else if (signal) {\n          state[3] = !0;\n          state[1](1);\n          return state[2](1);\n        } else {\n          return state[1](0);\n        }\n      }]));\n    };\n  };\n};\n\nvar combine$2 = function combine(sourceA) {\n  return function (sourceB) {\n    return function (sink) {\n      var state = [talkbackPlaceholder, talkbackPlaceholder, void 0, void 0, !1, 0, !1];\n\n      _1(sourceA, function (signal) {\n        var match = state[3];\n\n        if ('number' == typeof signal) {\n          if (state[5] < 1) {\n            state[5] = state[5] + 1 | 0;\n            return 0;\n          } else if (state[6]) {\n            return 0;\n          } else {\n            state[6] = !0;\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          var a = signal[0];\n\n          if (void 0 !== match) {\n            if (state[6]) {\n              return 0;\n            } else {\n              state[2] = some(a);\n              state[4] = !1;\n              return sink(__(1, [[a, valFromOption(match)]]));\n            }\n          } else {\n            state[2] = some(a);\n            state[4] = !1;\n            return 0;\n          }\n        } else {\n          state[0] = signal[0];\n          return 0;\n        }\n      });\n\n      _1(sourceB, function (signal) {\n        var match = state[2];\n\n        if ('number' == typeof signal) {\n          if (state[5] < 1) {\n            state[5] = state[5] + 1 | 0;\n            return 0;\n          } else if (state[6]) {\n            return 0;\n          } else {\n            state[6] = !0;\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          var b = signal[0];\n\n          if (void 0 !== match) {\n            if (state[6]) {\n              return 0;\n            } else {\n              state[3] = some(b);\n              state[4] = !1;\n              return sink(__(1, [[valFromOption(match), b]]));\n            }\n          } else {\n            state[3] = some(b);\n            state[4] = !1;\n            return 0;\n          }\n        } else {\n          state[1] = signal[0];\n          return 0;\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (state[6]) {\n          return 0;\n        } else if (signal) {\n          state[6] = !0;\n          state[0](1);\n          return state[1](1);\n        } else if (state[4]) {\n          return 0;\n        } else {\n          state[4] = !0;\n          state[0](signal);\n          return state[1](signal);\n        }\n      }]));\n    };\n  };\n};\n\nvar concatMap$2 = concatMap;\n\nvar concat$2 = function concat(sources) {\n  return concatMap(function (x) {\n    return x;\n  })(fromArray(sources));\n};\n\nvar concatAll$2 = function concatAll(source) {\n  return concatMap(function (x) {\n    return x;\n  })(source);\n};\n\nvar filter$2 = function filter(f) {\n  return function (source) {\n    return function (sink) {\n      return captureTalkback(source, function (signal, talkback) {\n        if ('number' == typeof signal || !signal.tag || f(signal[0])) {\n          return sink(signal);\n        } else {\n          return talkback(0);\n        }\n      });\n    };\n  };\n};\n\nvar map$2 = function map(f) {\n  return function (source) {\n    return function (sink) {\n      return _1(source, function (signal) {\n        var tmp;\n        tmp = 'number' == typeof signal ? 0 : signal.tag ? __(1, [f(signal[0])]) : __(0, [signal[0]]);\n        return sink(tmp);\n      });\n    };\n  };\n};\n\nvar mergeMap$2 = mergeMap;\n\nvar merge$2 = function merge(sources) {\n  return mergeMap(function (x) {\n    return x;\n  })(fromArray(sources));\n};\n\nvar mergeAll$2 = mergeAll;\nvar flatten$2 = mergeAll;\n\nvar onEnd$2 = function onEnd(f) {\n  return function (source) {\n    return function (sink) {\n      var ended = [!1];\n      return _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (ended[0]) {\n            return 0;\n          } else {\n            ended[0] = !0;\n            sink(signal);\n            return f();\n          }\n        } else if (signal.tag) {\n          return sink(signal);\n        } else {\n          var talkback = signal[0];\n          return sink(__(0, [function (signal) {\n            if (signal) {\n              if (ended[0]) {\n                return 0;\n              } else {\n                ended[0] = !0;\n                return f();\n              }\n            } else {\n              return talkback(0);\n            }\n          }]));\n        }\n      });\n    };\n  };\n};\n\nvar onPush$2 = onPush;\nvar tap$2 = onPush;\n\nvar onStart$2 = function onStart(f) {\n  return function (source) {\n    return function (sink) {\n      return _1(source, function (signal) {\n        if ('number' == typeof signal || signal.tag) {\n          return sink(signal);\n        } else {\n          sink(signal);\n          return f();\n        }\n      });\n    };\n  };\n};\n\nvar sample$2 = function sample(notifier) {\n  return function (source) {\n    return function (sink) {\n      var state = [!1, void 0, function (param) {\n        return 0;\n      }, function (param) {\n        return 0;\n      }];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          state[0] = !0;\n          state[3](1);\n          return sink(0);\n        } else if (signal.tag) {\n          state[1] = some(signal[0]);\n          return 0;\n        } else {\n          state[2] = signal[0];\n          return 0;\n        }\n      });\n\n      _1(notifier, function (signal) {\n        var match = state[1];\n\n        if ('number' == typeof signal) {\n          state[0] = !0;\n          state[2](1);\n          return sink(0);\n        } else if (signal.tag) {\n          if (void 0 !== match && !state[0]) {\n            state[1] = void 0;\n            return sink(__(1, [valFromOption(match)]));\n          } else {\n            return 0;\n          }\n        } else {\n          state[3] = signal[0];\n          return 0;\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (signal) {\n          state[0] = !0;\n          state[2](1);\n          return state[3](1);\n        } else {\n          state[2](0);\n          return state[3](0);\n        }\n      }]));\n    };\n  };\n};\n\nvar scan$2 = function scan(f, seed) {\n  return function (source) {\n    return function (sink) {\n      var acc = [seed];\n      return _1(source, function (signal) {\n        var tmp;\n\n        if ('number' == typeof signal) {\n          tmp = 0;\n        } else if (signal.tag) {\n          acc[0] = f(acc[0], signal[0]);\n          tmp = __(1, [acc[0]]);\n        } else {\n          tmp = __(0, [signal[0]]);\n        }\n\n        return sink(tmp);\n      });\n    };\n  };\n};\n\nvar share$2 = function share(source) {\n  var state = [new Array(), talkbackPlaceholder, !1];\n  return function (sink) {\n    state[0] = state[0].concat(sink);\n\n    if (1 === state[0].length) {\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          state[0].forEach(function (sink) {\n            return sink(0);\n          });\n          state[0] = new Array();\n          return 0;\n        } else if (signal.tag) {\n          state[2] = !1;\n          state[0].forEach(function (sink) {\n            return sink(signal);\n          });\n          return 0;\n        } else {\n          state[1] = signal[0];\n          return 0;\n        }\n      });\n    }\n\n    return sink(__(0, [function (signal) {\n      if (signal) {\n        state[0] = state[0].filter(function (x) {\n          return x !== sink;\n        });\n\n        if (0 === state[0].length) {\n          return state[1](1);\n        } else {\n          return 0;\n        }\n      } else if (state[2]) {\n        return 0;\n      } else {\n        state[2] = !0;\n        return state[1](signal);\n      }\n    }]));\n  };\n};\n\nvar skip$2 = function skip(wait) {\n  return function (source) {\n    return function (sink) {\n      var rest = [wait];\n      return captureTalkback(source, function (signal, talkback) {\n        if ('number' == typeof signal || !(signal.tag && rest[0] > 0)) {\n          return sink(signal);\n        } else {\n          rest[0] = rest[0] - 1 | 0;\n          return talkback(0);\n        }\n      });\n    };\n  };\n};\n\nvar skipUntil$2 = function skipUntil(notifier) {\n  return function (source) {\n    return function (sink) {\n      var state = [!0, !1, !1, talkbackPlaceholder, talkbackPlaceholder];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[0]) {\n            state[4](1);\n          }\n\n          state[1] = !0;\n          return sink(0);\n        } else if (signal.tag) {\n          if (state[0] && !state[1]) {\n            return state[3](0);\n          } else if (state[1]) {\n            return 0;\n          } else {\n            state[2] = !1;\n            return sink(signal);\n          }\n        } else {\n          var tb = signal[0];\n          state[3] = tb;\n          return _1(notifier, function (signal) {\n            if ('number' == typeof signal) {\n              return 0;\n            } else if (signal.tag) {\n              state[0] = !1;\n              return state[4](1);\n            } else {\n              var innerTb = signal[0];\n              state[4] = innerTb;\n              innerTb(0);\n              return tb(0);\n            }\n          });\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (signal) {\n          if (state[0]) {\n            state[4](1);\n          }\n\n          state[1] = !0;\n          return state[3](1);\n        } else if (!state[2] && !state[1]) {\n          state[2] = !0;\n          return state[3](0);\n        } else {\n          return 0;\n        }\n      }]));\n    };\n  };\n};\n\nvar skipWhile$2 = function skipWhile(f) {\n  return function (source) {\n    return function (sink) {\n      var skip = [!0];\n      return captureTalkback(source, function (signal, talkback) {\n        if ('number' == typeof signal || !signal.tag || !skip[0]) {\n          return sink(signal);\n        } else if (f(signal[0])) {\n          return talkback(0);\n        } else {\n          skip[0] = !1;\n          return sink(signal);\n        }\n      });\n    };\n  };\n};\n\nvar switchMap$2 = switchMap;\n\nvar switchAll$2 = function switchAll(source) {\n  return switchMap(function (x) {\n    return x;\n  })(source);\n};\n\nvar take$2 = function take(max) {\n  return function (source) {\n    return function (sink) {\n      var state = [0, talkbackPlaceholder];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[0] < max) {\n            state[0] = max;\n            return sink(0);\n          } else {\n            return 0;\n          }\n        } else if (signal.tag) {\n          if (state[0] < max) {\n            state[0] = state[0] + 1 | 0;\n            sink(signal);\n\n            if (state[0] === max) {\n              sink(0);\n              return state[1](1);\n            } else {\n              return 0;\n            }\n          } else {\n            return 0;\n          }\n        } else {\n          state[1] = signal[0];\n          return 0;\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (state[0] < max) {\n          if (signal) {\n            state[0] = max;\n            return state[1](1);\n          } else {\n            return state[1](0);\n          }\n        } else {\n          return 0;\n        }\n      }]));\n    };\n  };\n};\n\nvar takeLast$2 = takeLast;\n\nvar takeUntil$2 = function takeUntil(notifier) {\n  return function (source) {\n    return function (sink) {\n      var state = [!1, talkbackPlaceholder, talkbackPlaceholder];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (state[0]) {\n            return 0;\n          } else {\n            state[0] = !0;\n            state[2](1);\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          if (state[0]) {\n            return 0;\n          } else {\n            return sink(signal);\n          }\n        } else {\n          state[1] = signal[0];\n          return _1(notifier, function (signal) {\n            if ('number' == typeof signal) {\n              return 0;\n            } else if (signal.tag) {\n              state[0] = !0;\n              state[1](1);\n              return sink(0);\n            } else {\n              var innerTb = signal[0];\n              state[2] = innerTb;\n              return innerTb(0);\n            }\n          });\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (state[0]) {\n          return 0;\n        } else if (signal) {\n          state[0] = !0;\n          state[1](1);\n          return state[2](1);\n        } else {\n          return state[1](0);\n        }\n      }]));\n    };\n  };\n};\n\nvar takeWhile$2 = function takeWhile(f) {\n  return function (source) {\n    return function (sink) {\n      var ended = [!1];\n      var talkback = [talkbackPlaceholder];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          if (ended[0]) {\n            return 0;\n          } else {\n            ended[0] = !0;\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          if (ended[0]) {\n            return 0;\n          } else if (f(signal[0])) {\n            return sink(signal);\n          } else {\n            ended[0] = !0;\n            sink(0);\n            return talkback[0](1);\n          }\n        } else {\n          talkback[0] = signal[0];\n          return sink(signal);\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (ended[0]) {\n          return 0;\n        } else if (signal) {\n          ended[0] = !0;\n          return talkback[0](1);\n        } else {\n          return talkback[0](0);\n        }\n      }]));\n    };\n  };\n};\n\nvar publish$2 = function publish(source) {\n  var state = [talkbackPlaceholder, !1];\n\n  _1(source, function (signal) {\n    if ('number' == typeof signal) {\n      state[1] = !0;\n      return 0;\n    } else if (signal.tag) {\n      if (state[1]) {\n        return 0;\n      } else {\n        return state[0](0);\n      }\n    } else {\n      var x = signal[0];\n      state[0] = x;\n      return x(0);\n    }\n  });\n\n  return [function (param) {\n    if (state[1]) {\n      return 0;\n    } else {\n      state[1] = !0;\n      return state[0](1);\n    }\n  }];\n};\n\nvar subscribe$2 = subscribe;\n\nvar forEach$2 = function forEach(f) {\n  return function (source) {\n    subscribe(f)(source);\n    return 0;\n  };\n};\n\nvar toArray$2 = function toArray(source) {\n  var state = [new Array(), talkbackPlaceholder, void 0, !1];\n\n  _1(source, function (signal) {\n    if ('number' == typeof signal) {\n      state[3] = !0;\n      return 0;\n    } else if (signal.tag) {\n      state[0].push(signal[0]);\n      return state[1](0);\n    } else {\n      var x = signal[0];\n      state[1] = x;\n      return x(0);\n    }\n  });\n\n  if (!state[3]) {\n    state[1](1);\n  }\n\n  return state[0];\n};\n\nvar debounce$2 = function debounce(f) {\n  return function (source) {\n    return function (sink) {\n      var gotEndSignal = [!1];\n      var id = [void 0];\n\n      var $$clearTimeout$1 = function $$clearTimeout$1(param) {\n        var match = id[0];\n\n        if (void 0 !== match) {\n          id[0] = void 0;\n          clearTimeout(valFromOption(match));\n          return 0;\n        } else {\n          return 0;\n        }\n      };\n\n      return _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          gotEndSignal[0] = !0;\n\n          if (void 0 !== id[0]) {\n            return 0;\n          } else {\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          $$clearTimeout$1();\n          id[0] = some(setTimeout(function (param) {\n            id[0] = void 0;\n            sink(signal);\n\n            if (gotEndSignal[0]) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          }, f(signal[0])));\n          return 0;\n        } else {\n          var tb = signal[0];\n          return sink(__(0, [function (signal) {\n            if (signal) {\n              $$clearTimeout$1();\n              return tb(1);\n            } else {\n              return tb(signal);\n            }\n          }]));\n        }\n      });\n    };\n  };\n};\n\nvar delay$2 = function delay(wait) {\n  return function (source) {\n    return function (sink) {\n      var state = [talkbackPlaceholder, 0, !1];\n\n      _1(source, function (signal) {\n        var exit = 0;\n\n        if ('number' == typeof signal || signal.tag) {\n          exit = 1;\n        } else {\n          state[0] = signal[0];\n          return 0;\n        }\n\n        if (1 === exit) {\n          if (state[2]) {\n            return 0;\n          } else {\n            state[1] = state[1] + 1 | 0;\n            setTimeout(function (param) {\n              if (state[2] && 0 === state[1]) {\n                sink(0);\n              } else {\n                state[1] = state[1] - 1 | 0;\n              }\n\n              return sink(signal);\n            }, wait);\n            return 0;\n          }\n        }\n      });\n\n      return sink(__(0, [function (signal) {\n        if (signal) {\n          state[2] = !0;\n\n          if (0 === state[1]) {\n            return sink(0);\n          } else {\n            return 0;\n          }\n        } else if (state[2]) {\n          return 0;\n        } else {\n          return state[0](signal);\n        }\n      }]));\n    };\n  };\n};\n\nvar throttle$2 = function throttle(f) {\n  return function (source) {\n    return function (sink) {\n      var skip = [!1];\n      var id = [void 0];\n\n      var $$clearTimeout$1 = function $$clearTimeout$1(param) {\n        var match = id[0];\n\n        if (void 0 !== match) {\n          clearTimeout(valFromOption(match));\n          return 0;\n        } else {\n          return 0;\n        }\n      };\n\n      return _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          $$clearTimeout$1();\n          return sink(0);\n        } else if (signal.tag) {\n          if (skip[0]) {\n            return 0;\n          } else {\n            skip[0] = !0;\n            $$clearTimeout$1();\n            id[0] = some(setTimeout(function (param) {\n              id[0] = void 0;\n              skip[0] = !1;\n              return 0;\n            }, f(signal[0])));\n            return sink(signal);\n          }\n        } else {\n          var tb = signal[0];\n          return sink(__(0, [function (signal) {\n            if (signal) {\n              $$clearTimeout$1();\n              return tb(1);\n            } else {\n              return tb(signal);\n            }\n          }]));\n        }\n      });\n    };\n  };\n};\n\nvar toPromise$2 = toPromise$1;\n\nvar interval$2 = function interval(p) {\n  return function (sink) {\n    var i = [0];\n    var id = setInterval(function (param) {\n      var num = i[0];\n      i[0] = i[0] + 1 | 0;\n      return sink(__(1, [num]));\n    }, p);\n    return sink(__(0, [function (signal) {\n      if (signal) {\n        clearInterval(id);\n        return 0;\n      } else {\n        return 0;\n      }\n    }]));\n  };\n};\n\nvar fromDomEvent$2 = function fromDomEvent(element, $$event) {\n  return function (sink) {\n    var addEventListener = function addEventListener(element, event, handler) {\n      element.addEventListener(event, handler);\n    };\n\n    var removeEventListener = function removeEventListener(element, event, handler) {\n      element.removeEventListener(event, handler);\n    };\n\n    return fromListener(function (handler) {\n      return _3(addEventListener, element, $$event, handler);\n    }, function (handler) {\n      return _3(removeEventListener, element, $$event, handler);\n    })(sink);\n  };\n};\n\nvar fromListener$2 = fromListener;\n\nvar fromPromise$2 = function fromPromise(promise) {\n  return function (sink) {\n    var ended = [!1];\n    promise.then(function (value) {\n      if (!ended[0]) {\n        sink(__(1, [value]));\n        sink(0);\n      }\n\n      return Promise.resolve(0);\n    });\n    return sink(__(0, [function (signal) {\n      if (signal) {\n        ended[0] = !0;\n        return 0;\n      } else {\n        return 0;\n      }\n    }]));\n  };\n};\n\nvar fromObservable$2 = function fromObservable(input) {\n  var observable = void 0 !== input[observableSymbol] ? input[observableSymbol]() : input;\n  return function (sink) {\n    var subscription = observable.subscribe({\n      next: function next(value) {\n        return sink(__(1, [value]));\n      },\n      complete: function complete() {\n        return sink(0);\n      },\n      error: function error(param) {\n        return 0;\n      }\n    });\n    return sink(__(0, [function (signal) {\n      if (signal) {\n        return subscription.unsubscribe();\n      } else {\n        return 0;\n      }\n    }]));\n  };\n};\n\nvar toObservable$2 = function toObservable(source) {\n  var observable = {\n    subscribe: function subscribe(observer) {\n      var state = [talkbackPlaceholder, !1];\n\n      _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          state[1] = !0;\n          return observer.complete();\n        } else if (signal.tag) {\n          if (state[1]) {\n            return 0;\n          } else {\n            observer.next(signal[0]);\n            return state[0](0);\n          }\n        } else {\n          var x = signal[0];\n          state[0] = x;\n          return x(0);\n        }\n      });\n\n      return {\n        unsubscribe: function unsubscribe() {\n          if (state[1]) {\n            return 0;\n          } else {\n            state[1] = !0;\n            return state[0](1);\n          }\n        }\n      };\n    }\n  };\n\n  observable[observableSymbol] = function (param) {\n    return observable;\n  };\n\n  return observable;\n};\n\nvar fromCallbag$2 = function fromCallbag(callbag) {\n  return function (sink) {\n    return callbag(0, function (signal, data) {\n      switch (signal) {\n        case 0:\n          return sink(__(0, [function (talkbackSignal) {\n            if (talkbackSignal) {\n              return data(2);\n            } else {\n              return data(1);\n            }\n          }]));\n\n        case 1:\n          return sink(__(1, [data]));\n\n        case 2:\n          return sink(0);\n      }\n    });\n  };\n};\n\nvar toCallbag$2 = function toCallbag(source) {\n  return function (signal, data) {\n    if (0 === signal) {\n      return _1(source, function (signal) {\n        if ('number' == typeof signal) {\n          return data(2, 0);\n        } else if (signal.tag) {\n          return data(1, signal[0]);\n        } else {\n          var talkbackFn = signal[0];\n          return data(0, function (talkback) {\n            switch (talkback) {\n              case 0:\n                return 0;\n\n              case 1:\n                return talkbackFn(0);\n\n              case 2:\n                return talkbackFn(1);\n            }\n          });\n        }\n      });\n    } else {\n      return 0;\n    }\n  };\n};\n\nexport { Types, buffer$2 as buffer, combine$2 as combine, concat$2 as concat, concatAll$2 as concatAll, concatMap$2 as concatMap, debounce$2 as debounce, delay$2 as delay, empty$2 as empty, filter$2 as filter, flatten$2 as flatten, forEach$2 as forEach, fromArray$2 as fromArray, fromCallbag$2 as fromCallbag, fromDomEvent$2 as fromDomEvent, fromList$2 as fromList, fromListener$2 as fromListener, fromObservable$2 as fromObservable, fromPromise$2 as fromPromise, fromValue$2 as fromValue, interval$2 as interval, make$2 as make, makeSubject$2 as makeSubject, map$2 as map, merge$2 as merge, mergeAll$2 as mergeAll, mergeMap$2 as mergeMap, never$2 as never, onEnd$2 as onEnd, onPush$2 as onPush, onStart$2 as onStart, pipe, publish$2 as publish, sample$2 as sample, scan$2 as scan, share$2 as share, skip$2 as skip, skipUntil$2 as skipUntil, skipWhile$2 as skipWhile, subscribe$2 as subscribe, switchAll$2 as switchAll, switchMap$2 as switchMap, take$2 as take, takeLast$2 as takeLast, takeUntil$2 as takeUntil, takeWhile$2 as takeWhile, tap$2 as tap, throttle$2 as throttle, toArray$2 as toArray, toCallbag$2 as toCallbag, toObservable$2 as toObservable, toPromise$2 as toPromise };","map":{"version":3,"sources":["/Users/bhargavram/Desktop/eog-react-visualization-assessment-master/node_modules/wonka/dist/wonka.es.js"],"names":["pipe","source","args","arguments","len","length","x","i","__","tag","block","caml_array_sub","offset","result","Array","j","app","_f","_args","f","init_arity","arity","d","apply","concat","_1","o","a0","curry_1","param","param$1","param$2","param$3","param$4","param$5","_3","a1","a2","curry_3","undefinedHeader","some","block$1","valFromOption","depth","talkbackPlaceholder","captureTalkback","sinkWithTalkback","talkback","signal","makeTrampoline","sink","state","match","match$1","observableSymbol","Symbol","observable","takeLast","max","queue","shift","push","fromListener","addListener","removeListener","handler","$$event","toPromise$1","toPromise","Promise","resolve","subscribe","fromArray","arr","size","index","onPush","mergeMap","innerSource","filter","tb","forEach","mergeAll","concatMap","applyInnerSource","isEmpty","q","switchMap","Types","fromArray$2","fromList$2","fromList","ls","value","fromValue$2","fromValue","ended","make$2","make","teardown","makeSubject$2","makeSubject","empty$2","empty","never$2","never","buffer$2","buffer","notifier","combine$2","combine","sourceA","sourceB","a","b","concatMap$2","concat$2","sources","concatAll$2","concatAll","filter$2","map$2","map","tmp","mergeMap$2","merge$2","merge","mergeAll$2","flatten$2","onEnd$2","onEnd","onPush$2","tap$2","onStart$2","onStart","sample$2","sample","scan$2","scan","seed","acc","share$2","share","skip$2","skip","wait","rest","skipUntil$2","skipUntil","innerTb","skipWhile$2","skipWhile","switchMap$2","switchAll$2","switchAll","take$2","take","takeLast$2","takeUntil$2","takeUntil","takeWhile$2","takeWhile","publish$2","publish","subscribe$2","forEach$2","toArray$2","toArray","debounce$2","debounce","gotEndSignal","id","$$clearTimeout$1","clearTimeout","setTimeout","delay$2","delay","exit","throttle$2","throttle","toPromise$2","interval$2","interval","p","setInterval","num","clearInterval","fromDomEvent$2","fromDomEvent","element","addEventListener","event","removeEventListener","fromListener$2","fromPromise$2","fromPromise","promise","then","fromObservable$2","fromObservable","input","subscription","next","complete","error","unsubscribe","toObservable$2","toObservable","observer","fromCallbag$2","fromCallbag","callbag","data","talkbackSignal","toCallbag$2","toCallbag","talkbackFn","flatten","tap"],"mappings":"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","sourcesContent":["function pipe(source) {\n  var args = arguments;\n  var len = args.length;\n  var x = source;\n  for (var i = 1; i < len; i++) {\n    x = args[i](x);\n  }\n  return x;\n}\n\nfunction __(tag, block) {\n  block.tag = tag;\n  return block;\n}\n\nfunction caml_array_sub(x, offset, len) {\n  var result = new Array(len);\n  var j = 0;\n  var i = offset;\n  while (j < len) {\n    result[j] = x[i];\n    j = (j + 1) | 0;\n    i = (i + 1) | 0;\n  }\n  return result;\n}\n\nfunction app(_f, _args) {\n  while (1) {\n    var args = _args;\n    var f = _f;\n    var init_arity = f.length;\n    var arity = 0 === init_arity ? 1 : init_arity;\n    var d = (arity - args.length) | 0;\n    if (0 === d) {\n      return f.apply(null, args);\n    } else if (d < 0) {\n      _args = caml_array_sub(args, arity, 0 | -d);\n      _f = f.apply(null, caml_array_sub(args, 0, arity));\n      continue;\n    } else {\n      return (function(f, args) {\n        return function(x) {\n          return app(f, args.concat([x]));\n        };\n      })(f, args);\n    }\n  }\n}\n\nfunction _1(o, a0) {\n  var arity = o.length;\n  if (1 === arity) {\n    return o(a0);\n  } else {\n    return (function curry_1(o, a0, arity) {\n      switch (arity) {\n        case 1:\n          return o(a0);\n\n        case 2:\n          return function(param) {\n            return o(a0, param);\n          };\n\n        case 3:\n          return function(param, param$1) {\n            return o(a0, param, param$1);\n          };\n\n        case 4:\n          return function(param, param$1, param$2) {\n            return o(a0, param, param$1, param$2);\n          };\n\n        case 5:\n          return function(param, param$1, param$2, param$3) {\n            return o(a0, param, param$1, param$2, param$3);\n          };\n\n        case 6:\n          return function(param, param$1, param$2, param$3, param$4) {\n            return o(a0, param, param$1, param$2, param$3, param$4);\n          };\n\n        case 7:\n          return function(param, param$1, param$2, param$3, param$4, param$5) {\n            return o(a0, param, param$1, param$2, param$3, param$4, param$5);\n          };\n\n        default:\n          return app(o, [a0]);\n      }\n    })(o, a0, arity);\n  }\n}\n\nfunction _3(o, a0, a1, a2) {\n  var arity = o.length;\n  if (3 === arity) {\n    return o(a0, a1, a2);\n  } else {\n    return (function curry_3(o, a0, a1, a2, arity) {\n      switch (arity) {\n        case 1:\n          return app(o(a0), [a1, a2]);\n\n        case 2:\n          return app(o(a0, a1), [a2]);\n\n        case 3:\n          return o(a0, a1, a2);\n\n        case 4:\n          return function(param) {\n            return o(a0, a1, a2, param);\n          };\n\n        case 5:\n          return function(param, param$1) {\n            return o(a0, a1, a2, param, param$1);\n          };\n\n        case 6:\n          return function(param, param$1, param$2) {\n            return o(a0, a1, a2, param, param$1, param$2);\n          };\n\n        case 7:\n          return function(param, param$1, param$2, param$3) {\n            return o(a0, a1, a2, param, param$1, param$2, param$3);\n          };\n\n        default:\n          return app(o, [a0, a1, a2]);\n      }\n    })(o, a0, a1, a2, arity);\n  }\n}\n\nvar undefinedHeader = [];\n\nfunction some(x) {\n  if (void 0 === x) {\n    var block = [undefinedHeader, 0];\n    block.tag = 256;\n    return block;\n  } else if (null !== x && x[0] === undefinedHeader) {\n    var block$1 = [undefinedHeader, (x[1] + 1) | 0];\n    block$1.tag = 256;\n    return block$1;\n  } else {\n    return x;\n  }\n}\n\nfunction valFromOption(x) {\n  if (null !== x && x[0] === undefinedHeader) {\n    var depth = x[1];\n    if (0 === depth) {\n      return;\n    } else {\n      return [undefinedHeader, (depth - 1) | 0];\n    }\n  } else {\n    return x;\n  }\n}\n\nfunction talkbackPlaceholder(param) {\n  return 0;\n}\n\nfunction captureTalkback(source, sinkWithTalkback) {\n  var talkback = [talkbackPlaceholder];\n  return _1(source, function(signal) {\n    if ('number' != typeof signal) {\n      if (!signal.tag) {\n        talkback[0] = signal[0];\n      }\n    }\n    return sinkWithTalkback(signal, talkback[0]);\n  });\n}\n\nfunction makeTrampoline(sink, f) {\n  var state = [!1, !1, !1];\n  return sink(\n    __(0, [\n      function(signal) {\n        var match = state[1];\n        if (signal) {\n          state[0] = !0;\n          return 0;\n        } else if (match) {\n          state[2] = !0;\n          return 0;\n        } else {\n          state[2] = !0;\n          state[1] = !0;\n          while (state[2] && !state[0]) {\n            var match$1 = f();\n            if (void 0 !== match$1) {\n              state[2] = !1;\n              sink(__(1, [valFromOption(match$1)]));\n            } else {\n              state[0] = !0;\n              sink(0);\n            }\n          }\n          state[1] = !1;\n          return 0;\n        }\n      }\n    ])\n  );\n}\n\nvar observableSymbol =\n  'function' == typeof Symbol\n    ? Symbol.observable || (Symbol.observable = Symbol('observable'))\n    : '@@observable';\n\nfunction takeLast(max) {\n  return function(source) {\n    return function(sink) {\n      var queue = new Array();\n      return captureTalkback(source, function(signal, talkback) {\n        if ('number' == typeof signal) {\n          return makeTrampoline(sink, function() {\n            return queue.shift();\n          });\n        } else if (signal.tag) {\n          if (queue.length >= max && max > 0) {\n            queue.shift();\n          }\n          queue.push(signal[0]);\n          return talkback(0);\n        } else {\n          return talkback(0);\n        }\n      });\n    };\n  };\n}\n\nfunction fromListener(addListener, removeListener) {\n  return function(sink) {\n    var handler = function($$event) {\n      return sink(__(1, [$$event]));\n    };\n    sink(\n      __(0, [\n        function(signal) {\n          if (signal) {\n            return _1(removeListener, handler);\n          } else {\n            return 0;\n          }\n        }\n      ])\n    );\n    return _1(addListener, handler);\n  };\n}\n\nvar toPromise$1 = function toPromise(source) {\n  return new Promise(function(resolve, param) {\n    return _1(takeLast(1)(source), function(signal) {\n      if ('number' == typeof signal) {\n        return 0;\n      } else if (signal.tag) {\n        return resolve(signal[0]);\n      } else {\n        return signal[0](0);\n      }\n    });\n  });\n};\n\nfunction subscribe(f) {\n  return function(source) {\n    var state = [talkbackPlaceholder, !1];\n    _1(source, function(signal) {\n      if ('number' == typeof signal) {\n        state[1] = !0;\n        return 0;\n      } else if (signal.tag) {\n        if (state[1]) {\n          return 0;\n        } else {\n          f(signal[0]);\n          return state[0](0);\n        }\n      } else {\n        var x = signal[0];\n        state[0] = x;\n        return x(0);\n      }\n    });\n    return [\n      function(param) {\n        if (state[1]) {\n          return 0;\n        } else {\n          state[1] = !0;\n          return state[0](1);\n        }\n      }\n    ];\n  };\n}\n\nfunction fromArray(arr) {\n  return function(sink) {\n    var size = arr.length;\n    var index = [0];\n    return makeTrampoline(sink, function() {\n      if (index[0] < size) {\n        var x = arr[index[0]];\n        index[0] = (index[0] + 1) | 0;\n        return some(x);\n      }\n    });\n  };\n}\n\nfunction onPush(f) {\n  return function(source) {\n    return function(sink) {\n      return _1(source, function(signal) {\n        if ('number' != typeof signal) {\n          if (signal.tag) {\n            f(signal[0]);\n          }\n        }\n        return sink(signal);\n      });\n    };\n  };\n}\n\nfunction mergeMap(f) {\n  return function(source) {\n    return function(sink) {\n      var state = [talkbackPlaceholder, new Array(), !1];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[2]) {\n            return 0;\n          } else {\n            state[2] = !0;\n            if (0 === state[1].length) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          }\n        } else if (signal.tag) {\n          if (state[2]) {\n            return 0;\n          } else {\n            (innerSource = f(signal[0])),\n              (talkback = [talkbackPlaceholder]),\n              _1(innerSource, function(signal) {\n                if ('number' == typeof signal) {\n                  state[1] = state[1].filter(function(x) {\n                    return x !== talkback[0];\n                  });\n                  if (state[2] && 0 === state[1].length) {\n                    return sink(0);\n                  } else {\n                    return 0;\n                  }\n                } else if (signal.tag) {\n                  if (0 !== state[1].length) {\n                    sink(__(1, [signal[0]]));\n                    return talkback[0](0);\n                  } else {\n                    return 0;\n                  }\n                } else {\n                  var tb = signal[0];\n                  talkback[0] = tb;\n                  state[1] = state[1].concat(tb);\n                  return tb(0);\n                }\n              });\n            return state[0](0);\n          }\n        } else {\n          var tb = signal[0];\n          state[0] = tb;\n          return tb(0);\n        }\n        var innerSource, talkback;\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (signal) {\n              state[1].forEach(function(talkback) {\n                return talkback(1);\n              });\n              if (state[2]) {\n                return 0;\n              } else {\n                state[2] = !0;\n                state[0](1);\n                state[1].forEach(function(talkback) {\n                  return talkback(1);\n                });\n                state[1] = new Array();\n                return 0;\n              }\n            } else if (state[2]) {\n              return 0;\n            } else {\n              state[1].forEach(function(talkback) {\n                return talkback(0);\n              });\n              return 0;\n            }\n          }\n        ])\n      );\n    };\n  };\n}\n\nfunction mergeAll(source) {\n  return mergeMap(function(x) {\n    return x;\n  })(source);\n}\n\nfunction concatMap(f) {\n  return function(source) {\n    return function(sink) {\n      var state = [new Array(), talkbackPlaceholder, talkbackPlaceholder, !1, !1, !1];\n      var applyInnerSource = function(innerSource) {\n        return _1(innerSource, function(signal) {\n          if ('number' == typeof signal) {\n            state[3] = !1;\n            state[2] = talkbackPlaceholder;\n            var match = state[0].shift();\n            if (void 0 !== match) {\n              return applyInnerSource(f(valFromOption(match)));\n            } else if (state[5]) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          } else if (signal.tag) {\n            if (state[4]) {\n              return 0;\n            } else {\n              sink(__(1, [signal[0]]));\n              return state[2](0);\n            }\n          } else {\n            var tb = signal[0];\n            state[3] = !0;\n            state[2] = tb;\n            return tb(0);\n          }\n        });\n      };\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[5]) {\n            return 0;\n          } else {\n            state[5] = !0;\n            if (\n              !state[3] &&\n              (function isEmpty(q) {\n                return 0 === q.length;\n              })(state[0])\n            ) {\n              return sink(0);\n            } else {\n              return 0;\n            }\n          }\n        } else if (signal.tag) {\n          if (state[5]) {\n            return 0;\n          } else {\n            var x = signal[0];\n            if (state[3]) {\n              state[0].push(x);\n            } else {\n              applyInnerSource(f(x));\n            }\n            return state[1](0);\n          }\n        } else {\n          var tb = signal[0];\n          state[1] = tb;\n          return tb(0);\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (signal) {\n              state[2](1);\n              if (state[5]) {\n                return 0;\n              } else {\n                state[5] = !0;\n                state[4] = !0;\n                state[1](1);\n                state[2] = talkbackPlaceholder;\n                return 0;\n              }\n            } else if (state[5]) {\n              return 0;\n            } else {\n              return state[2](0);\n            }\n          }\n        ])\n      );\n    };\n  };\n}\n\nfunction switchMap(f) {\n  return function(source) {\n    return function(sink) {\n      var state = [talkbackPlaceholder, talkbackPlaceholder, !1, !1, !1];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[4]) {\n            return 0;\n          } else {\n            state[4] = !0;\n            if (state[2]) {\n              return 0;\n            } else {\n              return sink(0);\n            }\n          }\n        } else if (signal.tag) {\n          if (state[4]) {\n            return 0;\n          } else {\n            if (state[2]) {\n              state[1](1);\n              state[1] = talkbackPlaceholder;\n            }\n            _1(f(signal[0]), function(signal) {\n              if ('number' == typeof signal) {\n                state[2] = !1;\n                state[1] = talkbackPlaceholder;\n                if (state[4]) {\n                  return sink(0);\n                } else {\n                  return 0;\n                }\n              } else if (signal.tag) {\n                if (state[3]) {\n                  return 0;\n                } else {\n                  sink(__(1, [signal[0]]));\n                  return state[1](0);\n                }\n              } else {\n                var tb = signal[0];\n                state[2] = !0;\n                state[1] = tb;\n                return tb(0);\n              }\n            });\n            return state[0](0);\n          }\n        } else {\n          var tb = signal[0];\n          state[0] = tb;\n          return tb(0);\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (signal) {\n              state[1](1);\n              if (state[4]) {\n                return 0;\n              } else {\n                state[4] = !0;\n                state[3] = !0;\n                state[0](1);\n                state[1] = talkbackPlaceholder;\n                return 0;\n              }\n            } else {\n              return state[1](0);\n            }\n          }\n        ])\n      );\n    };\n  };\n}\n\nvar Types = 0;\n\nvar fromArray$2 = fromArray;\n\nvar fromList$2 = function fromList(ls) {\n  return function(sink) {\n    var value = [ls];\n    return makeTrampoline(sink, function() {\n      var match = value[0];\n      if (match) {\n        value[0] = match[1];\n        return some(match[0]);\n      }\n    });\n  };\n};\n\nvar fromValue$2 = function fromValue(x) {\n  return function(sink) {\n    var ended = [!1];\n    return sink(\n      __(0, [\n        function(signal) {\n          if (signal || ended[0]) {\n            return 0;\n          } else {\n            ended[0] = !0;\n            sink(__(1, [x]));\n            return sink(0);\n          }\n        }\n      ])\n    );\n  };\n};\n\nvar make$2 = function make(f) {\n  return function(sink) {\n    var teardown = [\n      function() {\n        return 0;\n      }\n    ];\n    sink(\n      __(0, [\n        function(signal) {\n          if (signal) {\n            return teardown[0]();\n          } else {\n            return 0;\n          }\n        }\n      ])\n    );\n    teardown[0] = f([\n      function(value) {\n        return sink(__(1, [value]));\n      },\n      function(param) {\n        return sink(0);\n      }\n    ]);\n    return 0;\n  };\n};\n\nvar makeSubject$2 = function makeSubject(param) {\n  var state = [new Array(), !1];\n  return [\n    function(sink) {\n      state[0] = state[0].concat(sink);\n      return sink(\n        __(0, [\n          function(signal) {\n            if (1 === signal) {\n              state[0] = state[0].filter(function(x) {\n                return x !== sink;\n              });\n              return 0;\n            } else {\n              return 0;\n            }\n          }\n        ])\n      );\n    },\n    function(value) {\n      if (state[1]) {\n        return 0;\n      } else {\n        state[0].forEach(function(sink) {\n          return sink(__(1, [value]));\n        });\n        return 0;\n      }\n    },\n    function(param) {\n      if (state[1]) {\n        return 0;\n      } else {\n        state[1] = !0;\n        state[0].forEach(function(sink) {\n          return sink(0);\n        });\n        return 0;\n      }\n    }\n  ];\n};\n\nvar empty$2 = function empty(sink) {\n  sink(__(0, [talkbackPlaceholder]));\n  return sink(0);\n};\n\nvar never$2 = function never(sink) {\n  return sink(__(0, [talkbackPlaceholder]));\n};\n\nvar buffer$2 = function buffer(notifier) {\n  return function(source) {\n    return function(sink) {\n      var state = [new Array(), talkbackPlaceholder, talkbackPlaceholder, !1];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[3]) {\n            return 0;\n          } else {\n            state[3] = !0;\n            state[2](1);\n            sink(__(1, [state[0]]));\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          if (state[3]) {\n            return 0;\n          } else {\n            state[0].push(signal[0]);\n            return state[1](0);\n          }\n        } else {\n          state[1] = signal[0];\n          return _1(notifier, function(signal) {\n            if ('number' == typeof signal) {\n              if (state[3]) {\n                return 0;\n              } else {\n                state[3] = !0;\n                state[1](1);\n                sink(__(1, [state[0]]));\n                return sink(0);\n              }\n            } else if (signal.tag) {\n              if (state[3]) {\n                return 0;\n              } else {\n                sink(__(1, [state[0]]));\n                state[0] = new Array();\n                return state[2](0);\n              }\n            } else {\n              state[2] = signal[0];\n              return state[2](0);\n            }\n          });\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (state[3]) {\n              return 0;\n            } else if (signal) {\n              state[3] = !0;\n              state[1](1);\n              return state[2](1);\n            } else {\n              return state[1](0);\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar combine$2 = function combine(sourceA) {\n  return function(sourceB) {\n    return function(sink) {\n      var state = [talkbackPlaceholder, talkbackPlaceholder, void 0, void 0, !1, 0, !1];\n      _1(sourceA, function(signal) {\n        var match = state[3];\n        if ('number' == typeof signal) {\n          if (state[5] < 1) {\n            state[5] = (state[5] + 1) | 0;\n            return 0;\n          } else if (state[6]) {\n            return 0;\n          } else {\n            state[6] = !0;\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          var a = signal[0];\n          if (void 0 !== match) {\n            if (state[6]) {\n              return 0;\n            } else {\n              state[2] = some(a);\n              state[4] = !1;\n              return sink(__(1, [[a, valFromOption(match)]]));\n            }\n          } else {\n            state[2] = some(a);\n            state[4] = !1;\n            return 0;\n          }\n        } else {\n          state[0] = signal[0];\n          return 0;\n        }\n      });\n      _1(sourceB, function(signal) {\n        var match = state[2];\n        if ('number' == typeof signal) {\n          if (state[5] < 1) {\n            state[5] = (state[5] + 1) | 0;\n            return 0;\n          } else if (state[6]) {\n            return 0;\n          } else {\n            state[6] = !0;\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          var b = signal[0];\n          if (void 0 !== match) {\n            if (state[6]) {\n              return 0;\n            } else {\n              state[3] = some(b);\n              state[4] = !1;\n              return sink(__(1, [[valFromOption(match), b]]));\n            }\n          } else {\n            state[3] = some(b);\n            state[4] = !1;\n            return 0;\n          }\n        } else {\n          state[1] = signal[0];\n          return 0;\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (state[6]) {\n              return 0;\n            } else if (signal) {\n              state[6] = !0;\n              state[0](1);\n              return state[1](1);\n            } else if (state[4]) {\n              return 0;\n            } else {\n              state[4] = !0;\n              state[0](signal);\n              return state[1](signal);\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar concatMap$2 = concatMap;\n\nvar concat$2 = function concat(sources) {\n  return concatMap(function(x) {\n    return x;\n  })(fromArray(sources));\n};\n\nvar concatAll$2 = function concatAll(source) {\n  return concatMap(function(x) {\n    return x;\n  })(source);\n};\n\nvar filter$2 = function filter(f) {\n  return function(source) {\n    return function(sink) {\n      return captureTalkback(source, function(signal, talkback) {\n        if ('number' == typeof signal || !signal.tag || f(signal[0])) {\n          return sink(signal);\n        } else {\n          return talkback(0);\n        }\n      });\n    };\n  };\n};\n\nvar map$2 = function map(f) {\n  return function(source) {\n    return function(sink) {\n      return _1(source, function(signal) {\n        var tmp;\n        tmp =\n          'number' == typeof signal ? 0 : signal.tag ? __(1, [f(signal[0])]) : __(0, [signal[0]]);\n        return sink(tmp);\n      });\n    };\n  };\n};\n\nvar mergeMap$2 = mergeMap;\n\nvar merge$2 = function merge(sources) {\n  return mergeMap(function(x) {\n    return x;\n  })(fromArray(sources));\n};\n\nvar mergeAll$2 = mergeAll;\n\nvar flatten$2 = mergeAll;\n\nvar onEnd$2 = function onEnd(f) {\n  return function(source) {\n    return function(sink) {\n      var ended = [!1];\n      return _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (ended[0]) {\n            return 0;\n          } else {\n            ended[0] = !0;\n            sink(signal);\n            return f();\n          }\n        } else if (signal.tag) {\n          return sink(signal);\n        } else {\n          var talkback = signal[0];\n          return sink(\n            __(0, [\n              function(signal) {\n                if (signal) {\n                  if (ended[0]) {\n                    return 0;\n                  } else {\n                    ended[0] = !0;\n                    return f();\n                  }\n                } else {\n                  return talkback(0);\n                }\n              }\n            ])\n          );\n        }\n      });\n    };\n  };\n};\n\nvar onPush$2 = onPush;\n\nvar tap$2 = onPush;\n\nvar onStart$2 = function onStart(f) {\n  return function(source) {\n    return function(sink) {\n      return _1(source, function(signal) {\n        if ('number' == typeof signal || signal.tag) {\n          return sink(signal);\n        } else {\n          sink(signal);\n          return f();\n        }\n      });\n    };\n  };\n};\n\nvar sample$2 = function sample(notifier) {\n  return function(source) {\n    return function(sink) {\n      var state = [\n        !1,\n        void 0,\n        function(param) {\n          return 0;\n        },\n        function(param) {\n          return 0;\n        }\n      ];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          state[0] = !0;\n          state[3](1);\n          return sink(0);\n        } else if (signal.tag) {\n          state[1] = some(signal[0]);\n          return 0;\n        } else {\n          state[2] = signal[0];\n          return 0;\n        }\n      });\n      _1(notifier, function(signal) {\n        var match = state[1];\n        if ('number' == typeof signal) {\n          state[0] = !0;\n          state[2](1);\n          return sink(0);\n        } else if (signal.tag) {\n          if (void 0 !== match && !state[0]) {\n            state[1] = void 0;\n            return sink(__(1, [valFromOption(match)]));\n          } else {\n            return 0;\n          }\n        } else {\n          state[3] = signal[0];\n          return 0;\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (signal) {\n              state[0] = !0;\n              state[2](1);\n              return state[3](1);\n            } else {\n              state[2](0);\n              return state[3](0);\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar scan$2 = function scan(f, seed) {\n  return function(source) {\n    return function(sink) {\n      var acc = [seed];\n      return _1(source, function(signal) {\n        var tmp;\n        if ('number' == typeof signal) {\n          tmp = 0;\n        } else if (signal.tag) {\n          acc[0] = f(acc[0], signal[0]);\n          tmp = __(1, [acc[0]]);\n        } else {\n          tmp = __(0, [signal[0]]);\n        }\n        return sink(tmp);\n      });\n    };\n  };\n};\n\nvar share$2 = function share(source) {\n  var state = [new Array(), talkbackPlaceholder, !1];\n  return function(sink) {\n    state[0] = state[0].concat(sink);\n    if (1 === state[0].length) {\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          state[0].forEach(function(sink) {\n            return sink(0);\n          });\n          state[0] = new Array();\n          return 0;\n        } else if (signal.tag) {\n          state[2] = !1;\n          state[0].forEach(function(sink) {\n            return sink(signal);\n          });\n          return 0;\n        } else {\n          state[1] = signal[0];\n          return 0;\n        }\n      });\n    }\n    return sink(\n      __(0, [\n        function(signal) {\n          if (signal) {\n            state[0] = state[0].filter(function(x) {\n              return x !== sink;\n            });\n            if (0 === state[0].length) {\n              return state[1](1);\n            } else {\n              return 0;\n            }\n          } else if (state[2]) {\n            return 0;\n          } else {\n            state[2] = !0;\n            return state[1](signal);\n          }\n        }\n      ])\n    );\n  };\n};\n\nvar skip$2 = function skip(wait) {\n  return function(source) {\n    return function(sink) {\n      var rest = [wait];\n      return captureTalkback(source, function(signal, talkback) {\n        if ('number' == typeof signal || !(signal.tag && rest[0] > 0)) {\n          return sink(signal);\n        } else {\n          rest[0] = (rest[0] - 1) | 0;\n          return talkback(0);\n        }\n      });\n    };\n  };\n};\n\nvar skipUntil$2 = function skipUntil(notifier) {\n  return function(source) {\n    return function(sink) {\n      var state = [!0, !1, !1, talkbackPlaceholder, talkbackPlaceholder];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[0]) {\n            state[4](1);\n          }\n          state[1] = !0;\n          return sink(0);\n        } else if (signal.tag) {\n          if (state[0] && !state[1]) {\n            return state[3](0);\n          } else if (state[1]) {\n            return 0;\n          } else {\n            state[2] = !1;\n            return sink(signal);\n          }\n        } else {\n          var tb = signal[0];\n          state[3] = tb;\n          return _1(notifier, function(signal) {\n            if ('number' == typeof signal) {\n              return 0;\n            } else if (signal.tag) {\n              state[0] = !1;\n              return state[4](1);\n            } else {\n              var innerTb = signal[0];\n              state[4] = innerTb;\n              innerTb(0);\n              return tb(0);\n            }\n          });\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (signal) {\n              if (state[0]) {\n                state[4](1);\n              }\n              state[1] = !0;\n              return state[3](1);\n            } else if (!state[2] && !state[1]) {\n              state[2] = !0;\n              return state[3](0);\n            } else {\n              return 0;\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar skipWhile$2 = function skipWhile(f) {\n  return function(source) {\n    return function(sink) {\n      var skip = [!0];\n      return captureTalkback(source, function(signal, talkback) {\n        if ('number' == typeof signal || !signal.tag || !skip[0]) {\n          return sink(signal);\n        } else if (f(signal[0])) {\n          return talkback(0);\n        } else {\n          skip[0] = !1;\n          return sink(signal);\n        }\n      });\n    };\n  };\n};\n\nvar switchMap$2 = switchMap;\n\nvar switchAll$2 = function switchAll(source) {\n  return switchMap(function(x) {\n    return x;\n  })(source);\n};\n\nvar take$2 = function take(max) {\n  return function(source) {\n    return function(sink) {\n      var state = [0, talkbackPlaceholder];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[0] < max) {\n            state[0] = max;\n            return sink(0);\n          } else {\n            return 0;\n          }\n        } else if (signal.tag) {\n          if (state[0] < max) {\n            state[0] = (state[0] + 1) | 0;\n            sink(signal);\n            if (state[0] === max) {\n              sink(0);\n              return state[1](1);\n            } else {\n              return 0;\n            }\n          } else {\n            return 0;\n          }\n        } else {\n          state[1] = signal[0];\n          return 0;\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (state[0] < max) {\n              if (signal) {\n                state[0] = max;\n                return state[1](1);\n              } else {\n                return state[1](0);\n              }\n            } else {\n              return 0;\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar takeLast$2 = takeLast;\n\nvar takeUntil$2 = function takeUntil(notifier) {\n  return function(source) {\n    return function(sink) {\n      var state = [!1, talkbackPlaceholder, talkbackPlaceholder];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (state[0]) {\n            return 0;\n          } else {\n            state[0] = !0;\n            state[2](1);\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          if (state[0]) {\n            return 0;\n          } else {\n            return sink(signal);\n          }\n        } else {\n          state[1] = signal[0];\n          return _1(notifier, function(signal) {\n            if ('number' == typeof signal) {\n              return 0;\n            } else if (signal.tag) {\n              state[0] = !0;\n              state[1](1);\n              return sink(0);\n            } else {\n              var innerTb = signal[0];\n              state[2] = innerTb;\n              return innerTb(0);\n            }\n          });\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (state[0]) {\n              return 0;\n            } else if (signal) {\n              state[0] = !0;\n              state[1](1);\n              return state[2](1);\n            } else {\n              return state[1](0);\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar takeWhile$2 = function takeWhile(f) {\n  return function(source) {\n    return function(sink) {\n      var ended = [!1];\n      var talkback = [talkbackPlaceholder];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          if (ended[0]) {\n            return 0;\n          } else {\n            ended[0] = !0;\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          if (ended[0]) {\n            return 0;\n          } else if (f(signal[0])) {\n            return sink(signal);\n          } else {\n            ended[0] = !0;\n            sink(0);\n            return talkback[0](1);\n          }\n        } else {\n          talkback[0] = signal[0];\n          return sink(signal);\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (ended[0]) {\n              return 0;\n            } else if (signal) {\n              ended[0] = !0;\n              return talkback[0](1);\n            } else {\n              return talkback[0](0);\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar publish$2 = function publish(source) {\n  var state = [talkbackPlaceholder, !1];\n  _1(source, function(signal) {\n    if ('number' == typeof signal) {\n      state[1] = !0;\n      return 0;\n    } else if (signal.tag) {\n      if (state[1]) {\n        return 0;\n      } else {\n        return state[0](0);\n      }\n    } else {\n      var x = signal[0];\n      state[0] = x;\n      return x(0);\n    }\n  });\n  return [\n    function(param) {\n      if (state[1]) {\n        return 0;\n      } else {\n        state[1] = !0;\n        return state[0](1);\n      }\n    }\n  ];\n};\n\nvar subscribe$2 = subscribe;\n\nvar forEach$2 = function forEach(f) {\n  return function(source) {\n    subscribe(f)(source);\n    return 0;\n  };\n};\n\nvar toArray$2 = function toArray(source) {\n  var state = [new Array(), talkbackPlaceholder, void 0, !1];\n  _1(source, function(signal) {\n    if ('number' == typeof signal) {\n      state[3] = !0;\n      return 0;\n    } else if (signal.tag) {\n      state[0].push(signal[0]);\n      return state[1](0);\n    } else {\n      var x = signal[0];\n      state[1] = x;\n      return x(0);\n    }\n  });\n  if (!state[3]) {\n    state[1](1);\n  }\n  return state[0];\n};\n\nvar debounce$2 = function debounce(f) {\n  return function(source) {\n    return function(sink) {\n      var gotEndSignal = [!1];\n      var id = [void 0];\n      var $$clearTimeout$1 = function(param) {\n        var match = id[0];\n        if (void 0 !== match) {\n          id[0] = void 0;\n          clearTimeout(valFromOption(match));\n          return 0;\n        } else {\n          return 0;\n        }\n      };\n      return _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          gotEndSignal[0] = !0;\n          if (void 0 !== id[0]) {\n            return 0;\n          } else {\n            return sink(0);\n          }\n        } else if (signal.tag) {\n          $$clearTimeout$1();\n          id[0] = some(\n            setTimeout(function(param) {\n              id[0] = void 0;\n              sink(signal);\n              if (gotEndSignal[0]) {\n                return sink(0);\n              } else {\n                return 0;\n              }\n            }, f(signal[0]))\n          );\n          return 0;\n        } else {\n          var tb = signal[0];\n          return sink(\n            __(0, [\n              function(signal) {\n                if (signal) {\n                  $$clearTimeout$1();\n                  return tb(1);\n                } else {\n                  return tb(signal);\n                }\n              }\n            ])\n          );\n        }\n      });\n    };\n  };\n};\n\nvar delay$2 = function delay(wait) {\n  return function(source) {\n    return function(sink) {\n      var state = [talkbackPlaceholder, 0, !1];\n      _1(source, function(signal) {\n        var exit = 0;\n        if ('number' == typeof signal || signal.tag) {\n          exit = 1;\n        } else {\n          state[0] = signal[0];\n          return 0;\n        }\n        if (1 === exit) {\n          if (state[2]) {\n            return 0;\n          } else {\n            state[1] = (state[1] + 1) | 0;\n            setTimeout(function(param) {\n              if (state[2] && 0 === state[1]) {\n                sink(0);\n              } else {\n                state[1] = (state[1] - 1) | 0;\n              }\n              return sink(signal);\n            }, wait);\n            return 0;\n          }\n        }\n      });\n      return sink(\n        __(0, [\n          function(signal) {\n            if (signal) {\n              state[2] = !0;\n              if (0 === state[1]) {\n                return sink(0);\n              } else {\n                return 0;\n              }\n            } else if (state[2]) {\n              return 0;\n            } else {\n              return state[0](signal);\n            }\n          }\n        ])\n      );\n    };\n  };\n};\n\nvar throttle$2 = function throttle(f) {\n  return function(source) {\n    return function(sink) {\n      var skip = [!1];\n      var id = [void 0];\n      var $$clearTimeout$1 = function(param) {\n        var match = id[0];\n        if (void 0 !== match) {\n          clearTimeout(valFromOption(match));\n          return 0;\n        } else {\n          return 0;\n        }\n      };\n      return _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          $$clearTimeout$1();\n          return sink(0);\n        } else if (signal.tag) {\n          if (skip[0]) {\n            return 0;\n          } else {\n            skip[0] = !0;\n            $$clearTimeout$1();\n            id[0] = some(\n              setTimeout(function(param) {\n                id[0] = void 0;\n                skip[0] = !1;\n                return 0;\n              }, f(signal[0]))\n            );\n            return sink(signal);\n          }\n        } else {\n          var tb = signal[0];\n          return sink(\n            __(0, [\n              function(signal) {\n                if (signal) {\n                  $$clearTimeout$1();\n                  return tb(1);\n                } else {\n                  return tb(signal);\n                }\n              }\n            ])\n          );\n        }\n      });\n    };\n  };\n};\n\nvar toPromise$2 = toPromise$1;\n\nvar interval$2 = function interval(p) {\n  return function(sink) {\n    var i = [0];\n    var id = setInterval(function(param) {\n      var num = i[0];\n      i[0] = (i[0] + 1) | 0;\n      return sink(__(1, [num]));\n    }, p);\n    return sink(\n      __(0, [\n        function(signal) {\n          if (signal) {\n            clearInterval(id);\n            return 0;\n          } else {\n            return 0;\n          }\n        }\n      ])\n    );\n  };\n};\n\nvar fromDomEvent$2 = function fromDomEvent(element, $$event) {\n  return function(sink) {\n    var addEventListener = function(element, event, handler) {\n      element.addEventListener(event, handler);\n    };\n    var removeEventListener = function(element, event, handler) {\n      element.removeEventListener(event, handler);\n    };\n    return fromListener(\n      function(handler) {\n        return _3(addEventListener, element, $$event, handler);\n      },\n      function(handler) {\n        return _3(removeEventListener, element, $$event, handler);\n      }\n    )(sink);\n  };\n};\n\nvar fromListener$2 = fromListener;\n\nvar fromPromise$2 = function fromPromise(promise) {\n  return function(sink) {\n    var ended = [!1];\n    promise.then(function(value) {\n      if (!ended[0]) {\n        sink(__(1, [value]));\n        sink(0);\n      }\n      return Promise.resolve(0);\n    });\n    return sink(\n      __(0, [\n        function(signal) {\n          if (signal) {\n            ended[0] = !0;\n            return 0;\n          } else {\n            return 0;\n          }\n        }\n      ])\n    );\n  };\n};\n\nvar fromObservable$2 = function fromObservable(input) {\n  var observable = void 0 !== input[observableSymbol] ? input[observableSymbol]() : input;\n  return function(sink) {\n    var subscription = observable.subscribe({\n      next: function(value) {\n        return sink(__(1, [value]));\n      },\n      complete: function() {\n        return sink(0);\n      },\n      error: function(param) {\n        return 0;\n      }\n    });\n    return sink(\n      __(0, [\n        function(signal) {\n          if (signal) {\n            return subscription.unsubscribe();\n          } else {\n            return 0;\n          }\n        }\n      ])\n    );\n  };\n};\n\nvar toObservable$2 = function toObservable(source) {\n  var observable = {\n    subscribe: function(observer) {\n      var state = [talkbackPlaceholder, !1];\n      _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          state[1] = !0;\n          return observer.complete();\n        } else if (signal.tag) {\n          if (state[1]) {\n            return 0;\n          } else {\n            observer.next(signal[0]);\n            return state[0](0);\n          }\n        } else {\n          var x = signal[0];\n          state[0] = x;\n          return x(0);\n        }\n      });\n      return {\n        unsubscribe: function() {\n          if (state[1]) {\n            return 0;\n          } else {\n            state[1] = !0;\n            return state[0](1);\n          }\n        }\n      };\n    }\n  };\n  observable[observableSymbol] = function(param) {\n    return observable;\n  };\n  return observable;\n};\n\nvar fromCallbag$2 = function fromCallbag(callbag) {\n  return function(sink) {\n    return callbag(0, function(signal, data) {\n      switch (signal) {\n        case 0:\n          return sink(\n            __(0, [\n              function(talkbackSignal) {\n                if (talkbackSignal) {\n                  return data(2);\n                } else {\n                  return data(1);\n                }\n              }\n            ])\n          );\n\n        case 1:\n          return sink(__(1, [data]));\n\n        case 2:\n          return sink(0);\n      }\n    });\n  };\n};\n\nvar toCallbag$2 = function toCallbag(source) {\n  return function(signal, data) {\n    if (0 === signal) {\n      return _1(source, function(signal) {\n        if ('number' == typeof signal) {\n          return data(2, 0);\n        } else if (signal.tag) {\n          return data(1, signal[0]);\n        } else {\n          var talkbackFn = signal[0];\n          return data(0, function(talkback) {\n            switch (talkback) {\n              case 0:\n                return 0;\n\n              case 1:\n                return talkbackFn(0);\n\n              case 2:\n                return talkbackFn(1);\n            }\n          });\n        }\n      });\n    } else {\n      return 0;\n    }\n  };\n};\n\nexport {\n  Types,\n  buffer$2 as buffer,\n  combine$2 as combine,\n  concat$2 as concat,\n  concatAll$2 as concatAll,\n  concatMap$2 as concatMap,\n  debounce$2 as debounce,\n  delay$2 as delay,\n  empty$2 as empty,\n  filter$2 as filter,\n  flatten$2 as flatten,\n  forEach$2 as forEach,\n  fromArray$2 as fromArray,\n  fromCallbag$2 as fromCallbag,\n  fromDomEvent$2 as fromDomEvent,\n  fromList$2 as fromList,\n  fromListener$2 as fromListener,\n  fromObservable$2 as fromObservable,\n  fromPromise$2 as fromPromise,\n  fromValue$2 as fromValue,\n  interval$2 as interval,\n  make$2 as make,\n  makeSubject$2 as makeSubject,\n  map$2 as map,\n  merge$2 as merge,\n  mergeAll$2 as mergeAll,\n  mergeMap$2 as mergeMap,\n  never$2 as never,\n  onEnd$2 as onEnd,\n  onPush$2 as onPush,\n  onStart$2 as onStart,\n  pipe,\n  publish$2 as publish,\n  sample$2 as sample,\n  scan$2 as scan,\n  share$2 as share,\n  skip$2 as skip,\n  skipUntil$2 as skipUntil,\n  skipWhile$2 as skipWhile,\n  subscribe$2 as subscribe,\n  switchAll$2 as switchAll,\n  switchMap$2 as switchMap,\n  take$2 as take,\n  takeLast$2 as takeLast,\n  takeUntil$2 as takeUntil,\n  takeWhile$2 as takeWhile,\n  tap$2 as tap,\n  throttle$2 as throttle,\n  toArray$2 as toArray,\n  toCallbag$2 as toCallbag,\n  toObservable$2 as toObservable,\n  toPromise$2 as toPromise\n};\n"]},"metadata":{},"sourceType":"module"}